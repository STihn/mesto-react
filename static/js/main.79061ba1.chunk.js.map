{"version":3,"sources":["components/Header/Header.js","components/Card/Card.js","contexts/CurrentUserContext.js","contexts/CurrentCardsContext.js","components/Main/Main.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/ImagePopup/ImagePopup.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","utils/Api.js","components/App.js","index.js","images/logo.svg"],"names":["Header","className","src","HeaderLogo","alt","Card","name","link","_id","owner","likes","onClickImg","MyId","onDeleteCard","onLikeCard","isOwn","isLiked","some","i","key","type","onClick","length","CurrentUserContext","React","createContext","CurrentCardsContext","Main","onClickAvatar","onClickAddPlace","onClickProfile","onClickImage","onCardDelete","onLike","currentUser","useContext","currentCards","avatar","about","map","Footer","year","Date","getFullYear","PopupWithForm","props","children","isOpen","onClose","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","handleChange","evt","target","value","handleSubmitForm","preventDefault","useEffect","onSubmit","noValidate","id","placeholder","minLength","maxLength","required","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","onAddPlace","inputNameRef","inputLinkRef","api","baseUrl","headers","this","fetch","method","then","_status","catch","error","console","log","message","cardId","data","body","JSON","stringify","res","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setselectedCard","setCurrentUser","setCurrentCards","closeAllPopups","all","getUserProfile","getInitialCards","cards","err","Provider","deleteCard","newCardLists","filter","card","noLikeCard","newCard","likeCard","editProfile","editAvatar","newAvatar","createCard","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.79061ba1.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../../index.css';\r\nimport HeaderLogo from '../../images/logo.svg';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"header wrapper\">\r\n            <img className=\"header__logo\" src={HeaderLogo} alt=\"Лототип сайта\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\n\r\n        \r\nfunction Card({name, link, _id, owner, likes, onClickImg, MyId, onDeleteCard, onLikeCard}) {\r\n    \r\n    const isOwn = owner._id === MyId;\r\n    const isLiked = likes.some(i => i._id === MyId);\r\n   \r\n\r\n    function handleClick() {\r\n        onClickImg({name, link});\r\n    }\r\n    \r\n    function handleLikeClick() {\r\n        onLikeCard(_id, likes)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onDeleteCard(_id);\r\n    }\r\n      \r\n    return (\r\n        <article className=\"element\" key={_id}>\r\n            {isOwn && <button type=\"button\" name=\"btnDelete\" className=\"element__btnDelete\" onClick={() => handleDeleteClick(_id)}></button>}\r\n            <img className=\"element__image\" src={link} alt={name} onClick={() => handleClick()}/>\r\n            <div className=\"element__wrap\">\r\n                <p className=\"element__text\">{name}</p>\r\n                <div className=\"element__wrapper\">\r\n                    <button type=\"button\" name=\"btnLike\" className={isLiked ?'element__btnLike element__btnLike_active': 'element__btnLike' }\r\n                    onClick={()=> handleLikeClick()}\r\n                    >\r\n                    </button>\r\n                    <span className=\"element__countLike\">{likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\n\r\nexport const CurrentCardsContext = React.createContext();","import React from 'react';\r\nimport Card from '../Card/Card.js';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\r\nimport { CurrentCardsContext } from '../../contexts/CurrentCardsContext.js';\r\nimport '../../index.css';\r\n\r\n    \r\nfunction Main({onClickAvatar, onClickAddPlace, onClickProfile, onClickImage, onCardDelete, onLike}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const currentCards = React.useContext(CurrentCardsContext);\r\n\r\n    \r\n    return (\r\n        <div className=\"content\">\r\n            <div className=\"profile wrapper\">\r\n                <div className=\"profile__wrap\">\r\n                    <button type=\"button\" className=\"profile__btnUserpic\" onClick={() => onClickAvatar()}>\r\n                        <img className=\"profile__userpic\" src={currentUser.avatar} alt=\"Картинка - Профиль пользователя\"  />\r\n                    </button>\r\n                    <div className=\"profile__info\">\r\n                        <div className=\"profile__inner\">\r\n                            <p className=\"profile__name\">{currentUser.name}</p>\r\n                            <button type=\"button\" className=\"profile__editButton\" onClick={() => onClickProfile()}></button>\r\n                        </div>\r\n                        <p className=\"profile__specialty\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__addButton\" onClick={() => onClickAddPlace()}></button>\r\n            </div>\r\n            <div className=\"elements wrapper\">\r\n                {\r\n                    currentCards.map(({name, link, _id, owner, likes}) => (\r\n                        <Card \r\n                        onClickImg={() => onClickImage({name, link})} \r\n                        name={name} \r\n                        link={link} \r\n                        key={_id}\r\n                        owner={owner}\r\n                        likes={likes}\r\n                        MyId={currentUser._id}\r\n                        onDeleteCard={() => onCardDelete(_id)}\r\n                        onLikeCard={()=>onLike(_id, likes)}\r\n                        />\r\n                    ))\r\n                }            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport '../../index.css';\r\n\r\nconst Footer = () => {\r\n    let date = new Date();\r\n    let year  = date.getFullYear();\r\n    return (\r\n        <div className=\"footer wrapper\">\r\n            <p className=\"footer__copyright\">&copy; {year} Mesto Russia</p>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    const { name, children, isOpen, onClose } = props;\r\n        return(\r\n            <div className={isOpen ? `pop-up pop-up_${name} pop-up_opened`: `pop-up pop-up_${name}`}>\r\n                <div className=\"pop-up__container\">\r\n                    <button type=\"button\" name={`close${name}`} className=\"pop-up__btnClose\" onClick={onClose}></button>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\n\r\nfunction ImagePopup (props) {\r\n    const { name, link, isOpen, onClose } = props;\r\n    \r\n    return(\r\n        <div className={`pop-up pop-up_img ${isOpen && 'pop-up_opened'}`}>\r\n            <div className=\"pop-up__wrap\">\r\n                <button type=\"button\" name=\"closeImage\" className=\"pop-up__btnClose\" onClick={onClose}></button>\r\n                <figure className=\"pop-up__inner\">\r\n                    <img className=\"pop-up__image\" src={link} alt={name}/>\r\n                    <figcaption className=\"pop-up__preview\">{name}</figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\r\n\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n    \r\n\r\n    function handleChange(evt) {        \r\n      evt.target.name === 'name'\r\n        ? setName(evt.target.value)\r\n        : setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmitForm(evt) {\r\n      evt.preventDefault();\r\n      onUpdateUser({\r\n        name: name,\r\n        about: description,\r\n      });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name=\"editProfile\" \r\n            isOpen={isOpen} \r\n            onClose={onClose}\r\n            onSubmit={handleSubmitForm}\r\n        >\r\n            <form name=\"formEditProfile\" className=\"pop-up__form pop-up__form_editProfile\" noValidate onSubmit={handleSubmitForm}>\r\n                <h2 className=\"pop-up__heading\">Редактировать профиль</h2>\r\n                <input type=\"text\" name=\"name\" id=\"pop-up__input_name\" className=\"pop-up__input pop-up__input_name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required onChange={handleChange}  value={name || \"\"}/>\r\n                <span id=\"pop-up__input_name-error\" className=\"pop-up__input-error\"></span>\r\n                <input type=\"text\" name=\"about\" id=\"pop-up__input_specialty\" className=\"pop-up__input pop-up__input_specialty\" placeholder=\"Специальность\" minLength=\"2\" maxLength=\"200\" required onChange={handleChange}  value={description || \"\"}/>\r\n                <span id=\"pop-up__input_specialty-error\" className=\"pop-up__input-error\"></span>\r\n                <button type=\"submit\" name=\"save\" className=\"pop-up__btnSubmit\">Сохранить</button>\r\n            </form>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n    const inputRef = React.useRef('');\r\n\r\n    function handleSubmitForm(evt) {\r\n        evt.preventDefault();\r\n        onUpdateAvatar({\r\n          avatar: inputRef.current.value\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm \r\n            name=\"userpic\" \r\n            isOpen={isOpen} \r\n            onClose={onClose}>\r\n                <form name=\"formEditUserpic\" className=\"pop-up__form pop-up__form-editUserpic\" noValidate onSubmit={handleSubmitForm}>\r\n                    <h2 className=\"pop-up__heading\">Обновить аватар</h2>\r\n                    <input type=\"url\" name=\"avatar\" id=\"pop-up__input_userpic\" className=\"pop-up__input pop-up__input_userpic\" placeholder=\"Ссылка на картинку\" required ref={inputRef}/>\r\n                    <span id=\"pop-up__input_userpic-error\" className=\"pop-up__input-error\"></span>\r\n                    <button type=\"submit\" name=\"create\" className=\"pop-up__btnSubmit\">Сохранить</button>\r\n                </form>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js';\r\n\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n\r\n    const inputNameRef = React.useRef('');\r\n    const inputLinkRef = React.useRef('');\r\n\r\n    function handleSubmitForm(evt) {\r\n        evt.preventDefault();\r\n        onAddPlace({\r\n            name: inputNameRef.current.value,\r\n            link: inputLinkRef.current.value\r\n        })\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm \r\n            name=\"addCard\" \r\n            isOpen={isOpen} \r\n            onClose={onClose}>\r\n                <form name=\"formAddCard\" className=\"pop-up__form pop-up__form-addCard\" noValidate onSubmit={handleSubmitForm}>\r\n                    <h2 className=\"pop-up__heading\">Новое место</h2>\r\n                    <input type=\"text\" name=\"name\" id=\"pop-up__input_caption\" className=\"pop-up__input pop-up__input_caption\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required ref={inputNameRef}/>\r\n                    <span id=\"pop-up__input_caption-error\" className=\"pop-up__input-error\"></span>\r\n                    <input type=\"url\" name=\"link\" id=\"pop-up__input_image\" className=\"pop-up__input pop-up__input_image\" placeholder=\"Ссылка на картинку\" required ref={inputLinkRef}/>\r\n                    <span id=\"pop-up__input_image-error\" className=\"pop-up__input-error\"></span>\r\n                    <button type=\"submit\" name=\"create\" className=\"pop-up__btnSubmit\">Создать</button>\r\n                </form>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","\r\nclass Api {\r\n    constructor({baseUrl, headers}) {\r\n      this.baseUrl = baseUrl;\r\n      this.headers = headers\r\n    }\r\n    \r\n    getInitialCards() {\r\n      return fetch(`${this.baseUrl}/cards`,{\r\n        method: 'GET',\r\n        headers:  this.headers\r\n      }).then(this._status)\r\n      .catch(error => console.log(error.message));\r\n    }\r\n\r\n    likeCard(cardId){\r\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`,{\r\n        method: 'PUT',\r\n        headers:  this.headers\r\n      }).then(this._status)\r\n      .catch(error => console.log(error.message));\r\n    }\r\n\r\n    noLikeCard(cardId) {\r\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`,{\r\n        method: 'DELETE',\r\n        headers:  this.headers\r\n      }).then(this._status)\r\n      .catch(error => console.log(error.message));\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n      return fetch(`${this.baseUrl}/cards/${cardId}`,{\r\n        method: 'DELETE',\r\n        headers:  this.headers\r\n      }).then(this._status)\r\n      .catch(error => console.log(error.message));\r\n    }\r\n\r\n    createCard(data) {\r\n      return fetch(`${this.baseUrl}/cards`, {\r\n        method: 'POST',\r\n        headers:  this.headers,\r\n        body: JSON.stringify({\r\n          name: data.name,\r\n          link: data.link\r\n        })\r\n      }).then(this._status)\r\n      .catch(error => console.log(error.message));\r\n    }\r\n\r\n    editProfile(data) {\r\n      return fetch(`${this.baseUrl}/users/me`, {\r\n        method: 'PATCH',\r\n        headers:  this.headers,\r\n        body: JSON.stringify({\r\n            name: data.name,\r\n            about: data.about\r\n        })\r\n      }).then(this._status)\r\n        .catch(error => console.log(error.message));\r\n    }\r\n\r\n    editAvatar(data) {\r\n      return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers:  this.headers,\r\n        body: JSON.stringify({\r\n            avatar: data.avatar\r\n        })\r\n      })\r\n    }\r\n\r\n    getUserProfile() {\r\n      return fetch(`${this.baseUrl}/users/me`,{\r\n        method: 'GET',\r\n        headers:  this.headers\r\n      }).then(this._status)\r\n      .catch(error => console.log(error.message));\r\n    }\r\n\r\n    _status(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Error - ${res.status}`);\r\n    }\r\n}\r\n\r\nconst api = new Api ({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n  headers: {\r\n      authorization: '6e586ab2-f36c-4d4a-abc3-ac2332162dcd',\r\n      'content-type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api;","import React from 'react';\nimport Header from './Header/Header.js';\nimport Main from './Main/Main.js';\nimport Footer from './Footer/Footer.js';\nimport PopupWithForm from './PopupWithForm/PopupWithForm.js';\nimport PopupWithImage from './ImagePopup/ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup/EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup/EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup/AddPlacePopup.js';\nimport api from '../utils/Api.js';\nimport '../index.css';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport {CurrentCardsContext} from '../contexts/CurrentCardsContext.js';\n\n\nfunction App () {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [selectedCard, setselectedCard] = React.useState({isOpen:false});\n    const [currentUser, setCurrentUser] = React.useState({})\n    const [currentCards, setCurrentCards] = React.useState([]);\n\n    React.useEffect(() => {\n        Promise.all([ api.getUserProfile(), api.getInitialCards() ])\n            .then(([data, cards]) => {\n                setCurrentUser(data)\n                setCurrentCards(cards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setselectedCard(false);\n    }\n\n    function handleCardClickPopupOpen({name, link}) {\n        setselectedCard({...selectedCard, isOpen:true, name, link});\n    }\n\n    function handleEditProfilePopupOpen() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlacePopupOpen() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarPopupOpen() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleCardDelete(_id) {\n        api.deleteCard(_id)\n        .then(() => {\n            const newCardLists = currentCards.filter((card) => {\n                if(card._id !== _id) {\n                    return true;\n                }\n            })\n            setCurrentCards(newCardLists);\n        })\n    }\n    \n    function handleCardLike(_id, likes) {\n        const isLiked = likes.some(i => i._id === currentUser._id);\n        if(!isLiked) {\n            api.likeCard(_id).then((newCard) => {\n                const newCardLists = currentCards.map((card) => \n                    card._id === _id ? newCard : card\n                );\n                setCurrentCards(newCardLists);\n            })\n        } else if(isLiked) {\n            api.noLikeCard(_id).then((newCard) => {\n                const newCardLists = currentCards.map((card) => \n                    card._id === _id ? newCard : card\n                );\n                setCurrentCards(newCardLists);\n            })\n        }\n    }\n\n    function handleUpdateUser(data) {\n        api.editProfile(data)\n          .then((currentUser) => setCurrentUser(currentUser))\n        closeAllPopups();\n    }\n\n    function handleUpdateAvatar(data) {\n        api.editAvatar(data).then((newAvatar) => setCurrentUser(newAvatar))\n        closeAllPopups();\n    }\n\n    function handleAddPlaceSubmit(data) {\n        api.createCard(data).then((newCard) => setCurrentCards([...currentCards,newCard]))\n        closeAllPopups();\n    }\n\n    \n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n        <CurrentCardsContext.Provider value={currentCards}>\n            <div className=\"page\">\n                <Header />\n                <Main \n                onClickProfile={handleEditProfilePopupOpen} \n                onClickAddPlace={handleAddPlacePopupOpen} \n                onClickAvatar={handleEditAvatarPopupOpen} \n                onClickImage={handleCardClickPopupOpen} \n                onCardDelete={handleCardDelete}\n                onLike={handleCardLike}\n                />\n                <Footer />\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n                <PopupWithForm \n                name=\"toRemove\" >\n                    <form name=\"formToRemove\" className=\"pop-up__form pop-up__form_toRemove\">\n                        <h2 className=\"pop-up__heading pop-up__heading_bottom\">Вы уверены?</h2>\n                        <button type=\"submit\" name=\"deleteCard\" className=\"pop-up__btnSubmit pop-up__btnSubmit_bottom\">Да</button>\n                    </form>\n                </PopupWithForm>\n                <PopupWithImage \n                onClose={closeAllPopups} \n                isOpen={selectedCard.isOpen} \n                name={selectedCard.name} \n                link={selectedCard.link}\n                />\n            </div>\n        </CurrentCardsContext.Provider>\n        </CurrentUserContext.Provider>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />,document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}